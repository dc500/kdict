.page-header
  h1 Search

include ../includes/large-search


.row
  .span16
    h2 Results
      small Showing page #{paginator.page} of #{paginator.total_pages} (#{paginator.range_str} of #{paginator.count} results)

    - if (entries.length == 0)
      p No results found
    - else
      - each entry in entries
        .row
          .span3
            h3
              a(href='/#{entry.korean.hangul}')= entry.korean.hangul
            - if (entry.tags.length > 0)
              p
                img(src='/images/icons/flag_orange.gif')
                |  x
                #{entry.tags.length}
          .span12
            table.zebra-striped
              tbody
                - each meaning in entry.meanings
                  tr
                    td= meaning.hanja
                    td= meaning.definitions.english_all
                //span(data-name='entry[pos]', data-options='[["Noun", "noun"], ["Adjective", "adjective"]]')= entry.pos


//- if (entries.length == 0)
  p No results found
//- else
  - prev_hangul = ""
  - each entry in entries
    .row
      .span4
        - if (prev_hangul !== entry.korean.hangul)
          h3
            a(href='/entries/#{entry.id}')= entry.korean.hangul
      .span12
        ul

      li
        small= entry.pos
        p= entry.definitions.english_all
      .span2
        - if (entry.tags.length > 0)
          img(src='/images/icons/flag_orange.gif')
          |  x
          #{entry.tags.length}
      - prev_hangul = entry.korean.hangul



- if (paginator.total_pages > 1)
  .row
    .span12.offset4
      .pagination
        ul
          li.prev
            a Previous
          //a(href="/?q=#{results.query}") First
          - for (var i = paginator.min_page; i < paginator.max_page; i++)
            li 
              - if (i == paginator.current_page)
                #{i}
              - else
                a(href="/?q=&pg=#{i}")= i
          li.next
            a Next
            //a(href="/?q=#{results.query}&pg=#{results.total_pages}") #{results.total_pages} Last
  
